schema: '2.0'
stages:
  import-musicbrainz:
    cmd: python ingest.py --musicbrainz
    deps:
    - path: source/musicbrainz/artist.tar.xz
      hash: md5
      md5: 1d24ebd7242722c349e34bbbc9cb9bc4
      size: 1232899396
    - path: source/musicbrainz/recording.tar.xz
      hash: md5
      md5: 4d60aab2b5d27ad15a1d81b154f61b17
      size: 39490704
    - path: sql/mb_artist.sql
      hash: md5
      md5: b2391156d371ec0ab87e42e1b3815524
      size: 181
    - path: sql/mb_recording.sql
      hash: md5
      md5: a977cd15b868032905db53dafc043590
      size: 164
    outs:
    - path: data/musicbrainz.db
      hash: md5
      md5: 215df73d559d91bb04c5d965fe25a673
      size: 1055404032
  import-mlhd:
    cmd: python ingest.py --mlhd --use-mapping
    deps:
    - path: musicdata/layout.py
      hash: md5
      md5: 95f0e77f860147cd977efcb62f99c3e1
      size: 170
    - path: musicdata/mlhd.py
      hash: md5
      md5: 725e51067f3ae663a58de67bef4ca711
      size: 10941
    - path: musicdata/params.py
      hash: md5
      md5: eb430f047fd1aa7ae785112dee906353
      size: 172
    - path: source/mlhdplus
      hash: md5
      md5: 74c52e5ff2fba58a13bc8bada40a675f.dir
      size: 258484725760
      nfiles: 16
    outs:
    - path: data/mlhd
      hash: md5
      md5: 6bfe198aa971abe8f62524190a0b9170.dir
      size: 141306342264
      nfiles: 1233
    - path: data/mlhd_ids.parquet
      hash: md5
      md5: 0ddbd0a73f94261c2b80b4b6c66e4ab8
      size: 201553795
